- name: frontend playbook
  hosts: all
  become: yes
  tasks:
    - name: Make dnf cache
      ansible.builtin.shell: dnf makecache
      
    - name: module disable nginx -y
      ansible.builtin.shell: dnf module disable nginx -y
    
    - name: module enable nginx -y
      ansible.builtin.shell: dnf module enable nginx:1.24 -y  
    
    - name: Install Nginx
      ansible.builtin.shell: dnf install nginx -y

    - name: Remove file (delete file)
      ansible.builtin.file:
        path: /usr/share/nginx/html
        state: absent  
    
     - name: cp -r nginx.conf /etc/nginx/nginx.conf
       ansible.builtin.copy:
        src: nginx.conf
        dest: /etc/nginx/nginx.conf
